# 事务
Redis事务提供了一种执行多个命令的途径，这些命令会被当作一个整体来执行，具有一定的原子性保证，但这种原子性并非如传统的关系型数据库中的ACID特性那样严格。下面是Redis事务的关键特点和相关命令：

### 特点：
1. **原子性**：Redis事务中的所有命令要么全部执行，要么都不执行。但是，这里的原子性是指命令执行序列的原子性，而不是每个命令操作数据的原子性。例如，如果事务中的一个命令在执行时出现错误（如语法错误），Redis不会回滚其他已经执行的命令，而是继续执行事务中的剩余命令。
2. **无回滚**：Redis事务不支持回滚。即使事务中的某个命令执行失败（非语法错误，如键不存在的错误），事务也会继续执行剩余的命令。
3. **非隔离性**：在事务执行期间，其它客户端发送的命令可以插队执行，Redis事务不提供事务隔离级别的概念。
4. **队列操作**：使用`MULTI`命令开始一个事务，之后客户端发送的所有命令都将被放入一个队列中，直到`EXEC`命令被调用，这时所有队列中的命令将被一次性、按顺序执行。
5. **乐观锁**：通过`WATCH`命令可以实现乐观锁机制，监控一个或多个键，如果在事务执行前这些键被其他客户端修改，则事务执行`EXEC`时会失败并返回`NIL`，以此来实现一定程度上的并发控制。

### 关键命令：
- **MULTI**：标记事务块的开始，之后的命令不再立即执行，而是被放入队列中。
- **EXEC**：执行所有事务队列中的命令。
- **DISCARD**：取消当前事务，清空事务队列中的所有命令。
- **WATCH**：监视一个或多个键，如果在EXEC执行前这些键被其他客户端修改，则事务失败。
- **UNWATCH**：取消所有先前通过WATCH命令设置的监视。

### 使用场景：
Redis事务适用于那些需要一次性执行多个命令，并且对这些命令的执行顺序和完整性有一定要求，但又不需要复杂事务特性的场景，例如批量更新缓存、用户积分增加和减少等操作。